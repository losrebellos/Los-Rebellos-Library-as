package losrebellos.data.words {	import losrebellos.data.AbstractXMLData;	import flash.errors.IllegalOperationError;	import flash.utils.Dictionary;	/*	 *	 * @author los rebellos	 *	 */	public class Countries extends AbstractXMLData	{		/*		 * 		 * VARIABLES		 * 		 */		protected var _countries:Dictionary = new Dictionary(true);		protected var _cities:Dictionary = new Dictionary(true);				/*		 * 		 * CONSTRUCTOR		 * 		 */		public function Countries(singleton:SingletonEnforcer)		{			super();						if(!singleton)				throw new IllegalOperationError(">>>>> Countries class is a singleton");		}				/*		 * 		 * SINGLETON		 * 		 */		private static var _instance:Countries = null;		public static function get instance():Countries		{			if(!_instance)				_instance = new Countries(new SingletonEnforcer);						return _instance;		}						/*		 * 		 * XML		 * 		 */		override public function setXML(xml:XML):void		{			super.setXML(xml);						//countries			var xml_list_countries:XMLList = _xml["country"];			for(var i:int = 0; i<xml_list_countries.length(); i++)			{				var name_country:String = String(xml_list_countries[i]["name"][0]).toLowerCase();								//capital				var name_capitals:Array = [];				var xml_list_capitals:XMLList = xml_list_countries[i]["capital"];				for(var j:int = 0; j<xml_list_capitals.length(); j++)				{					var name_city:String = String(xml_list_capitals[j]).toLowerCase();					name_capitals.push(name_city);					_cities[name_city] = name_country;				}								//set the countries				_countries[name_country] = name_capitals;			}		}						/*		 * 		 * COUNTRY		 * 		 */		public function isCountry(c:String):Boolean		{			if(_countries[c.toLowerCase()])				return true;						return false;		}		public function getCapitalFromCountry(c:String):String		{			return _countries[c.toLowerCase()][0];		}				/*		 * 		 * CITY		 * 		 */		public function isCapital(c:String):Boolean		{			if(_cities[c.toLowerCase()])				return true;						return false;		}		public function getCountryFromCapital(c:String):String		{			return _cities[c.toLowerCase()];		}						/*		 * 		 * CODE		 * not working		 * 		 */		public function getCodeFromCountry(c:String):String		{			return _countries[c.toLowerCase()].@code;		}		public function getCodeFromCapital(c:String):String		{			return _cities[c.toLowerCase()].@code;		}						/*		 * 		 * UTILS		 * 		 */		override public function empty():void		{			_xml = null;						_countries = new Dictionary(true);			_cities = new Dictionary(true);		}	}}class SingletonEnforcer {}