package losrebellos.media {	import losrebellos.events.EventDispatcherPlus;	import losrebellos.rendering.Render;	import losrebellos.utils.DictionaryPlus;	import flash.display.Bitmap;	import flash.errors.IllegalOperationError;	/*	 *	 * @author los rebellos	 *	 */	public class Library extends EventDispatcherPlus	{		/*		 * 		 * VARIABLES		 * 		 */		private var _items:DictionaryPlus = new DictionaryPlus(true);				/*		 * 		 * CONSTRUCTOR		 * 		 */		public function Library(singleton:SingletonEnforcer)		{			super();						if(!singleton)				throw new IllegalOperationError(">>>>> Library class is a singleton");		}				/*		 * 		 * SINGLETON		 * 		 */		private static var _instance:Library = null;		public static function get instance():Library		{			if(!_instance)				_instance = new Library(new SingletonEnforcer);						return _instance;		}						/*		 * 		 * MANAGE		 * 		 */		public function hasItem(id:String):Boolean		{			return _items.hasKey(id);		}		public function addItem(id:String, item:*):void		{			_items.add(id, item);		}		public function deleteItem(id:String):Boolean		{			return _items.remove(id);		}						/*		 * 		 * GET ITEM		 * 		 */		public function getItem(id:String):*		{			return _items.getKey(id);		}		public function getItemAsBitmap(id:String):Bitmap		{			var item:* = _items.getKey(id);			if(item != null)				return Render.getBitmapAuto(item);						return null;		}	}}class SingletonEnforcer {}