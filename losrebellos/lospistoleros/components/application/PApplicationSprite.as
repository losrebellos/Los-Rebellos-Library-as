package losrebellos.lospistoleros.components.application {	import losrebellos.console.Console;	import losrebellos.lospistoleros.components.application.PApplicationController;	import losrebellos.lospistoleros.constants.PConstants;	import losrebellos.lospistoleros.core.controller.IPController;	import losrebellos.lospistoleros.core.model.IPModel;	import losrebellos.lospistoleros.core.view.PSprite;	import losrebellos.lospistoleros.events.PNavigateEvent;		import flash.events.Event;			/*	 *	 * @author los rebellos	 *	 */	public class PApplicationSprite extends PSprite 	{		/*		 * 		 * CONSTRUCTOR		 * 		 */		public function PApplicationSprite()		{			super();						this.addEventListener(Event.ADDED_TO_STAGE, addedToStage);		}		protected function addedToStage(e:Event):void		{			this.removeEventListener(Event.ADDED_TO_STAGE, addedToStage);						initStage();			createStageContent();			addStageContent();			resizeHandler();						this.addEventListener(PNavigateEvent.CHANGE, changeHandler);			this.addEventListener(PNavigateEvent.CHANGED, changedHandler);		}						/*		 * 		 * MVC		 * 		 */		override protected function createModel():IPModel		{			return new PApplicationModel;		}		override protected function createController():IPController		{			return new PApplicationController(model, this);		}						/*		 * 		 * CONTENT		 * 		 */		protected function createStageContent():void		{					}		protected function addStageContent():void		{					}						/*		 * 		 * STAGE		 * 		 */		protected function initStage():void		{			var m:PApplicationModel = model as PApplicationModel;			stage.scaleMode = m.getStage().scale;			stage.align = m.getStage().align;			stage.quality = m.getStage().quality;			stage.addEventListener(Event.RESIZE,resizeHandler);		}		protected function resizeHandler(e:Event = null):void		{					}						/*		 * 		 * URL		 * 		 */		protected function changeHandler(e:PNavigateEvent):void		{			Console.output(this, "url change to: " + e.url + " " + e.url_hashed);		}		protected function changedHandler(e:PNavigateEvent):void		{			PConstants.START = false;						Console.output(this, "url changed to: " + e.url + " " + e.url_hashed);		}	}}