package losrebellos.data.words {	import losrebellos.data.AbstractXMLData;	import flash.errors.IllegalOperationError;	import flash.utils.Dictionary;	/*	 *	 * @author los rebellos	 *	 */	public class Words extends AbstractXMLData 	{		/*		 * 		 * VARIABLES		 * 		 */		protected var raw_words:Dictionary = new Dictionary(true);		protected var categories:Dictionary = new Dictionary(true);				/*		 * 		 * CONSTRUCTOR		 * 		 */		public function Words(singleton:SingletonEnforcer)		{			super();						if(!singleton)				throw new IllegalOperationError(">>>>> Words class is a singleton");		}				/*		 * 		 * SINGLETON		 * 		 */		private static var _instance:Words = null;		public static function get instance():Words		{			if(!_instance)				_instance = new Words(new SingletonEnforcer);						return _instance;		}						/*		 * 		 * XML		 * 		 */		override public function setXML(xml:XML):void		{			_xml = xml;						//categories			var xml_list_categories:XMLList = _xml["category"];			for(var i:int = 0; i<xml_list_categories.length(); i++)			{				var name_category:String = String(xml_list_categories[i].@name).toLowerCase();								//words				var tab_words:Array = [];				var xml_list_words:XMLList = xml_list_categories[i]["word"];				for(var j:int = 0; j<xml_list_words.length(); j++)				{					var word:String = String(xml_list_words[j]).toLowerCase();					raw_words[word] = name_category;					tab_words.push(word);				}								//set the categories				categories[name_category] = tab_words;			}		}						/*		 * 		 * WORD		 * 		 */		public function getCategoryByWords(_words:String):String		{			var _category:String = raw_words[_words.toLowerCase()];			if(_category)				return _category;						return "";		}						/*		 * 		 * CATEGORY		 * 		 */		public function getWordsByCategory(_category:String):Array		{			var tab:Array = categories[_category];			if(tab)				return tab;						return null;		}						/*		 * 		 * UTILS		 * 		 */		override public function empty():void		{			_xml = null;						raw_words = new Dictionary(true);			categories = new Dictionary(true);		}	}}class SingletonEnforcer {}